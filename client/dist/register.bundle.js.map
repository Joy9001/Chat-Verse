{"version":3,"file":"register.bundle.js","mappings":"mBACA,IAAIA,EAAsB,CCA1BA,EAAyBC,IACH,oBAAXC,QAA0BA,OAAOC,aAC1CC,OAAOC,eAAeJ,EAASC,OAAOC,YAAa,CAAEG,MAAO,WAE7DF,OAAOC,eAAeJ,EAAS,aAAc,CAAEK,OAAO,GAAO,G,QCL9DC,SAASC,cAAc,0BAA0BC,iBAAiB,SAAS,WACvE,IAAMC,EAAkBH,SAASC,cAAc,8BAEzCG,EAASJ,SAASC,cAAc,yCAAyCF,MAC/EM,QAAQC,IAAIF,GAEZG,MAAM,kBAAmB,CACrBC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU,CAAER,OAAAA,MAEtBS,MAAK,SAACC,GAAG,OAAKA,EAAIC,MAAM,IACxBF,MAAK,SAACG,GACHX,QAAQC,IAAIU,EAAKC,QAEjBd,EAAgBe,IAAMF,EAAKC,MAC/B,IAAE,OACK,SAACE,GAAK,OAAKd,QAAQC,IAAIa,EAAMC,QAAQ,GACpD,IAEApB,SAASC,cAAc,iBAAiBC,iBAAiB,SAAS,WAC9D,IAAMmB,EAAQrB,SAASC,cAAc,mBAAmBF,MAClDuB,EAAWtB,SAASC,cAAc,sBAAsBF,MAExDwB,EAAOvB,SAASC,cAAc,wBAAwBF,MACtDyB,EAAWxB,SAASC,cAAc,4BAA4BF,MAC9DK,EAASJ,SAASC,cAAc,yCAAyCF,MACzEkB,EAASjB,SAASC,cAAc,8BAA8BiB,IAEpE,IAAKG,IAAUC,EAAU,CAQrB,OANAtB,SAASC,cAAc,wBAAwBwB,YADjC,oCAEdzB,SAASC,cAAc,mBAAmByB,UAAUC,OAAO,eAE3DC,YAAW,WACP5B,SAASC,cAAc,mBAAmByB,UAAUG,IAAI,SAC5D,GAAG,IAEP,CAEA,KAAKN,GAASC,GAAapB,GAAWa,GAAQ,CAQ1C,OANAjB,SAASC,cAAc,wBAAwBwB,YADjC,4DAEdzB,SAASC,cAAc,mBAAmByB,UAAUC,OAAO,eAE3DC,YAAW,WACP5B,SAASC,cAAc,mBAAmByB,UAAUG,IAAI,SAC5D,GAAG,IAEP,CAEAtB,MAAM,iBAAkB,CACpBC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU,CAAES,MAAAA,EAAOC,SAAAA,EAAUC,KAAAA,EAAMC,SAAAA,EAAUpB,OAAAA,EAAQa,OAAAA,MAE/DJ,MAAK,SAACC,GAAG,OAAKA,EAAIC,MAAM,IACxBF,MAAK,SAACG,GAEH,GADAX,QAAQC,IAAIU,GACRA,EAAKG,MAGL,OAFAnB,SAASC,cAAc,wBAAwBwB,YAAcT,EAAKG,WAClEnB,SAASC,cAAc,mBAAmByB,UAAUC,OAAO,UAG/D3B,SAASC,cAAc,wBAAwBwB,YAAc,0BAC7DzB,SAASC,cAAc,mBAAmByB,UAAUC,OAAO,UAE3DG,OAAOC,SAASC,KAAO,cAEvBJ,YAAW,WACP5B,SAASC,cAAc,mBAAmByB,UAAUG,IAAI,SAC5D,GAAG,IACP,IAAE,OACK,SAACI,GACJ5B,QAAQC,IAAI2B,EAAIb,SAChBpB,SAASC,cAAc,wBAAwBwB,YAAc,wBAC7DzB,SAASC,cAAc,mBAAmByB,UAAUC,OAAO,SAC/D,GACR,G","sources":["webpack://chat-app/webpack/bootstrap","webpack://chat-app/webpack/runtime/make namespace object","webpack://chat-app/./client/scripts/components/register.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","document.querySelector('#change-profilePic-btn').addEventListener('click', () => {\r\n    const modalProfilePic = document.querySelector('#change-details-profilePic')\r\n\r\n    const gender = document.querySelector('#change-details-gender option:checked').value\r\n    console.log(gender)\r\n\r\n    fetch('/api/get-avatar', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ gender }),\r\n    })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n            console.log(data.avatar)\r\n            // console.log(modalProfilePic.src);\r\n            modalProfilePic.src = data.avatar\r\n        })\r\n        .catch((error) => console.log(error.message))\r\n})\r\n\r\ndocument.querySelector('#register-btn').addEventListener('click', () => {\r\n    const email = document.querySelector('#register-email').value\r\n    const password = document.querySelector('#register-password').value\r\n\r\n    const name = document.querySelector('#change-details-name').value\r\n    const username = document.querySelector('#change-details-username').value\r\n    const gender = document.querySelector('#change-details-gender option:checked').value\r\n    const avatar = document.querySelector('#change-details-profilePic').src\r\n\r\n    if (!email || !password) {\r\n        const alert = \"Email and password can't be empty\"\r\n        document.querySelector('#register-alert span').textContent = alert\r\n        document.querySelector('#register-alert').classList.remove('hidden')\r\n\r\n        setTimeout(() => {\r\n            document.querySelector('#register-alert').classList.add('hidden')\r\n        }, 3000)\r\n        return\r\n    }\r\n\r\n    if (!name || !username || !gender || !avatar) {\r\n        const alert = 'Please fill all the details in the change details section'\r\n        document.querySelector('#register-alert span').textContent = alert\r\n        document.querySelector('#register-alert').classList.remove('hidden')\r\n\r\n        setTimeout(() => {\r\n            document.querySelector('#register-alert').classList.add('hidden')\r\n        }, 3000)\r\n        return\r\n    }\r\n\r\n    fetch('/auth/register', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ email, password, name, username, gender, avatar }),\r\n    })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n            console.log(data)\r\n            if (data.error) {\r\n                document.querySelector('#register-alert span').textContent = data.error\r\n                document.querySelector('#register-alert').classList.remove('hidden')\r\n                return\r\n            }\r\n            document.querySelector('#register-alert span').textContent = 'Registered successfully'\r\n            document.querySelector('#register-alert').classList.remove('hidden')\r\n\r\n            window.location.href = '/auth/login'\r\n\r\n            setTimeout(() => {\r\n                document.querySelector('#register-alert').classList.add('hidden')\r\n            }, 10000)\r\n        })\r\n        .catch((err) => {\r\n            console.log(err.message)\r\n            document.querySelector('#register-alert span').textContent = 'Internal server error'\r\n            document.querySelector('#register-alert').classList.remove('hidden')\r\n        })\r\n})\r\n"],"names":["__webpack_require__","exports","Symbol","toStringTag","Object","defineProperty","value","document","querySelector","addEventListener","modalProfilePic","gender","console","log","fetch","method","headers","body","JSON","stringify","then","res","json","data","avatar","src","error","message","email","password","name","username","textContent","classList","remove","setTimeout","add","window","location","href","err"],"sourceRoot":""}